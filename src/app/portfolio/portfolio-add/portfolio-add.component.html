<app-navbar></app-navbar>

<div class="container-bg">
    <div class="container">
        <h2 class="title_addSkill">Añadir Proyecto</h2>
        <div class="card">
            <div class="card-body">

                <form #portfolioForm="ngForm" novalidate #f="ngForm" method="post" enctype="multipart/form-data">

                    <div class="form-group">
                        <label for="titlePortfolio">Título del Proyecto</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="titlePortfolio" 
                            [(ngModel)]="portfolio.title"
                            name="titlePortfolio"
                            autocomplete="off"
                            maxlength="18">
                    </div>

                    <div class="form-group">
                        <label for="descriptionPortfolio">Descripción</label>
                        <textarea class="form-control" name="descriptionPortfolio" id="descriptionPortfolio"
                            [(ngModel)]="portfolio.description" rows="3" maxlength="140"
                            style="resize: none;">
                        </textarea>
                    </div>

                    <div class="form-group position-relative">
                        <label for="selectedFile">Imágen</label>
                        <input 
                            type="file" value="select" #selectFile (change)="onFileSelected($event)"
                            class="form-control fc-choose" id="imagenPortfolio" name="file">
                    </div>

                    <div *ngFor="let file of portfolio.dataImage; let i = index;" class="image-container">
                        <span class="btn-remove-image" (click)="removeImages(i)">x</span>
                        <img [src]="file.url">
                    </div>
  

                    <div class="form-group">
                        <label for="selectedFile">Habilidad</label>
                        
                        <ng-multiselect-dropdown 
                            class="form-control fc-choose fc-select-skill"
                            [placeholder]="'Habilidades'" 
                            [settings]="dropdownSettings"
                            [data]="dropdownList"
                            [(ngModel)]="portfolio.habilidad" 
                            (onSelect)="onItemSelect($event)"
                            name="skillsPortfolio">
                        </ng-multiselect-dropdown>

                    </div>

                    <div class="form-group">
                        <label for="urlPortfolio">URL</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="urlPortfolio"
                            [(ngModel)]="portfolio.url" 
                            name="urPortfolio"
                            autocomplete="off">
                    </div>

                    <button class="btn btn-success btn-block" [disabled]="!f.valid" (click)="addPortfolio()">
                        <i class="fas fa-plus-circle"></i> Crear
                    </button>

                    <button class="btn btn-primary btn-block" routerLink="/portfolio">
                        <i class="fas fa-arrow-alt-circle-left"></i> Volver
                    </button>

                </form>

            </div>
        </div>

    </div>
</div>
<div class="drop-container">
</div>